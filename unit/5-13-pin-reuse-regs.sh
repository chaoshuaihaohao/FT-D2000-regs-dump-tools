#!/bin/bash
IFS=$'\n\n'

if [ `id -u` != 0 ];then
        echo "Permission denied, Please run as root!"
        exit
fi

#1)引脚复用配置寄存器
#名称		基地址
baseaddr_table="
引脚复用控制	0x28180000
"

offset_table="
0x0200
0x0204
0x0208
0x020c
0x0210
0x0214
0x0218
0x021c
0x0220
0x0224
0x0228
0x022c
0x0488


0x0300
0x0304
0x0308
0x030c
0x0310
0x0314
0x0318
0x031c
0x0320
0x0324
0x0328
0x032c
0x0330
0x0334
0x0338
0x033c
0x0340
0x0344
0x0348
0x034c
0x0350
0x0354
0x0358
0x035c
0x0360
0x0364
0x0368
0x036c
0x0370
0x0374
0x0378
0x037c
0x0380
0x0384
0x0388
0x038c
0x0390
0x0394
0x0398


0x0400
0x0404
"



echo $baseaddr_table
baseaddr=`echo $baseaddr_table | awk -F ' ' '{print $2}'`

for reg in $offset_table
do
	reg_offset=`echo $reg | awk -F ' ' '{print $1}'`

	addr=$(($baseaddr + $reg_offset))

	echo -e "寄存器地址:$baseaddr+$reg_offset\t\t$reg_name\t$reg_desc"
	busybox devmem $addr
done
